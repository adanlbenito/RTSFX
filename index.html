<html>

  <head>
    <meta charset="utf-8">
    <!--  Import jquery-->
    <script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>
    <!--  Import custom JS file-->
    <script src="js/index.js" type="text/javascript"></script>
    <!--  Import utilties -->
    <script src="js/utilities.js" type="text/javascript"></script>

    <!--  Import NexusUI JS file-->
    <!-- <script src="js/nexusUI.js"></script> -->
    <!--Import Utility file -->

    <script type="text/javascript" scr="js/utilities.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- Stylesheets Import -->
    <link rel="stylesheet" type="text/css" href="css/button.css">
    <link rel="stylesheet" type="text/css" href="css/checkbox.css">
    <link rel="stylesheet" type="text/css" href="css/range.css">
    <link rel="stylesheet" type="text/css" href="css/sidenav.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="stylesheet" type="text/css" href="css/select.css">

    <!-- bootstrap-select - Latest compiled and minified CSS -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css"> -->

    <!-- bootstrap-select - Latest compiled and minified JavaScript -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script> -->


    <title>GUI Randomise Example</title>

</head>

<body>
  <div class="container" style="background:#333;">
    <header style="padding-bottom: 20px; border-radius: 100px;" class="col-md-10 col-md-offset-1">
      <br>
      <h1 class="header-text" style="text-align:center;">Real Time Sound Effect Synthesis</h1>
      <br>
      <h5 class="header-text-t2" style="text-align:center;">Developed in Chrome and may not work in other browsers</h6>
    </header>
  </div>
  <div class="container" style="background:#dddddd; padding-bottom: 50px; padding-top: 20px;">
    <h2 style="text-align:center;">GUI Randomise Example</h2>
      <div id="loading" align="center">LOADING ...</div>
      <div id="startButtonDiv" align="center">
        <button class="btn" id="startButton" align="center">Start</button>
      </div>
      <br>
      <ctrl>
        <div class="form" style="padding-bottom: 50px; padding-top: 20px;">
          <div class="row">
            <br>
            <div class="col-md-6 col-md-offset-3">
              <div>
                <label class='controlLabel' for="slider1Input">Slider 1</label>
                <input type="text" id="NumberBoxVal1" value="0"> Hz</input>
                <input type="range" class="controlSlider" id="slider1Input" min="0" value="0" max="1" step="0.001">
              </div>

              <br>
              <br>

              <div>
                <label class='controlLabel' for="slider2Input">Slider 2</label>
                <input type="text" id="NumberBoxVal2" value="0"> Hz</input>
                <input type="range" class="controlSlider" id="slider2Input" min="0" value="0" max="5" step="0.001">
              </div>

              <br>
              <br>

              <div>
                <label class='controlLabel' for="slider3Input">Slider 3</label>
                <input type="text" id="NumberBoxVal3" value="0"> Hz</input>
                <input type="range" class="controlSlider" id="slider3Input" min="0" value="0" max="7" step="0.001">
              </div>

              <br>
              <br>

              <div>
                <label class='controlLabel' for="slider4Input">Slider 4</label>
                <input type="text" id="NumberBoxVal4" value="0"> Hz</input>
                <input type="range" class="controlSlider" id="slider4Input" min="0" value="0" max="10.5" step="0.001">
              </div>

              <br>
              <br>

              <br>
              <br>

              <div align="center">
                <button class="btn" id="buttonRandomise" align="center">Randomise</button>

                <br>
                <br>

              </div>
              <div align="center">
                <label class='controlLabel' for="selectParameterToRandomise">Ctrl-Cmd + Click to select parameters</label>
                <br>
                <select id="selectParameterToRandomise" size="4" style="width: 50%; float: center; margin-top: 0;" multiple>
                  <option value="slider1" selected >Slider 1</option>
                  <option value="slider2" selected >Slider 2</option>
                  <option value="slider3" selected >Slider 3</option>
                  <option value="slider4" selected >Slider 4</option>
                </select>
              </div>

              <br>
              <br>

              <div>
                <label class='controlLabel' for="sliderRandomPercentInput">Random Percentage</label>
                <input type="text" id="numberBoxRandomPercentInput" value="100"> %</input>
                <input type="range" class="controlSlider" id="sliderRandomPercentInput" min="0" value="100" max="100" step="1">
              </div>
            </div>
          </div>
        </div>
      </ctrl>
  </div>
<script type="text/javascript">
  // Hide start button
  $('#startButton').hide();
  // Show start button
  $('#loading').fadeOut(200, function() { $('#startButton').fadeIn() })

  $('#startButton').click(function () {
    $(this).fadeOut(200, function () {
        $('.form').finish().fadeIn("slow");
    })
  })

  slider1Input.oninput = function(){
    console.log('Slider 1 ' + this.value);
    updateTextInput('NumberBoxVal1', this.value);
    oldValue(slider1Input);
  };

  slider1Input.onload = function(){
    console.log('Slider 1 ' + this.value);
    updateTextInput('NumberBoxVal1', this.value);
    oldValue(slider1Input);
  };

   slider2Input.oninput = function(){
     console.log('Slider 2 ' + this.value);
     updateTextInput('NumberBoxVal2', this.value);
     oldValue(slider2Input);
   };

   slider2Input.onload = function(){
     console.log('Slider 2 ' + this.value);
     updateTextInput('NumberBoxVal2', this.value);
     oldValue(slider2Input);
   };

   slider3Input.oninput = function(){
     console.log('Slider 3 ' + this.value);
     updateTextInput('NumberBoxVal3', this.value);
     oldValue(slider3Input);
   };

   slider3Input.onload = function(){
     console.log('Slider 3 ' + this.value);
     updateTextInput('NumberBoxVal3', this.value);
     oldValue(slider3Input);
   };

   slider4Input.oninput = function(){
     console.log('Slider 4 ' + this.value);
     updateTextInput('NumberBoxVal4', this.value);
     oldValue(slider4Input);
   };

   slider4Input.onload = function(){
     console.log('Slider 4 ' + this.value);
     updateTextInput('NumberBoxVal4', this.value);
     oldValue(slider4Input);
   };

   sliderRandomPercentInput.oninput = function(){
     console.log('Slider Random Percentage ' + this.value);
     updateTextInput('numberBoxRandomPercentInput', this.value);
   };

   function selectedValuesMultiple (){
     var multipleValues = $( "#selectParameterToRandomise" ).val() || [];
     console.log('Selected Values - ' + multipleValues.join( ", " ));
     return multipleValues;
   }

  buttonRandomise.onclick =  function(){

    var multipleVals = selectedValuesMultiple();
    console.log(multipleVals[0]);
    for (var i=0, iLen=multipleVals.length; i<iLen; i++){
      if (multipleVals[i] == "slider1"){
        randomiseSlider(slider1Input);
      } else if (multipleVals[i] == "slider2"){
        randomiseSlider(slider2Input);
      } else if (multipleVals[i] == "slider3"){
        randomiseSlider(slider3Input);
      } else if (multipleVals[i] == "slider4"){
        randomiseSlider(slider4Input);
      }
    }
    // randomiseSlider(slider1Input);
    // randomiseSlider(slider2Input);
    // randomiseSlider(slider3Input);
    // randomiseSlider(slider4Input);
  };

  function oldValue (elementId) {
    elementId.setAttribute('lastInput', elementId.value);
  };

  function randomiseSlider (sliderId) {
    // lastSliderValue = sliderId.lastInput;
    lastSliderValue = sliderId.value;
    sliderpercent = sliderRandomPercentInput.value;
    sliderMaxValue = sliderId.max;
    sliderMinValue = sliderId.min;
    sliderRange = sliderMaxValue - sliderMinValue;
    min = (lastSliderValue - (((sliderpercent*0.01)*sliderRange)*0.5));
    max = (lastSliderValue + (((sliderpercent*0.01)*sliderRange)*0.5));
    // if (min <= sliderMinValue){
    //   min = sliderMinValue;
    // } else if (max >= sliderMaxValue){
    //   max = sliderMaxValue;
    // }
    console.log('Randon Min ' + min);
    console.log('Random Max ' + max);
    console.log('Slider Range ' + sliderRange);
    console.log('Last Slider Value ' + lastSliderValue);
    console.log('Percentage ' + sliderpercent);
    sliderId.value = generateRandomValue (min, max);
  };

  function generateRandomValue (minVal, maxVal) {
    return Math.random() * (maxVal - minVal) + minVal;
  };

  //
  //   $('#button1').click(function(){
  //     slider1Input.value = 1;
  //   });
  //
  //   $('#selector1').change(function(){
  //     slider2Input.value = this.value;
  // });

</script>
</body>

</html>

<!-- <script>
function getRndInteger(min, max) {
    return Math.floor(Math.random() * (max - min + 1) ) + min;
}
</script> -->
